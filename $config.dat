;FOLD Padrao Paletizacao

;FOLD ENUM RECEITA
CONST INT Produto_A=1
CONST INT Produto_B=2
CONST INT Produto_C1=3
CONST INT Produto_C2=4
CONST INT Produto_E1=5
CONST INT Produto_E2=6
CONST INT Produto_E3=7
CONST INT Produto_F=8
CONST INT Produto_G=9
CONST INT Produto_I=10
CONST INT Produto_J=11
CONST INT Produto_K=12
CONST INT Produto_L=13
CONST INT Produto_M=14
CONST INT Produto_N=15
CONST INT Produto_O=16
CONST INT Produto_P=17
CONST INT Produto_Q=18
CONST INT Produto_R=19
CONST INT Produto_S=20
CONST INT Produto_T=21
;ENDFOLD

;FOLD ENUM Pallet
CONST INT Pallet_1=1
CONST INT Pallet_2=2
;ENDFOLD

;FOLD VARIAVEIS CLP
;{PalletAtivo}�numero�da esteira que est� com a caixa
;{CLPNumCaixas}�numero�de�caixas�para�o�pick
;{CLPIndexacaoVH}�TRUE->�Vertical�/�FALSE�->�Horizontal
INT CLPNumCaixas
BOOL CLPIndexacaoVH
;ENDFOLD

;FOLD Principais variaveis
INT PalletAtivo
INT LayerAtivo
INT PlaceLayerAtivo
;ENDFOLD

;FOLD Variaveis de estado
BOOL OperarVazio=FALSE
;ENDFOLD

;FOLD Variaveis adicionais
CONST INT ALTURATOPO=850
REAL AlturaPalletCompleto=1084.00
BOOL PalletCompleto=TRUE
;ENDFOLD

;FOLD Esteira e Pick
CONST E6POS DefaultPoint={X 20000.0,Y 0.0,Z 1100.00,A 180.000,B 0.0,C 180.000,S 2,T 43,E1 0.0,E2 0.0,E3 0.0,E4 0.0,E5 0.0,E6 0.0}
CONST FRAME NULLFRAME={X 0.0,Y 0.0,Z 0.0,A 0.0,B 0.0,C 0.0}

FRAME OffsetEsteira1
FRAME OffsetEsteira2

FRAME BaseEsteira1
FRAME BaseEsteira2
;ENDFOLD

;FOLD STRUC Pallet
BOOL Livre
BOOL Completo
INT ReceitaAtivo
INT PlaceAtivo
INT CamadaAtiva
FRAME BasePoint
FRAME OffSetPallet
E6POS Approch
STRUC DefPallet BOOL Livre,BOOL Completo,INT ReceitaAtivo,INT PlaceAtivo,CamadaAtiva,FRAME BasePoint,FRAME OffSetPallet,E6POS Approch
;---------- StrPallet[MaxPallets] ----------
CONST INT MaxPallets=2
DECL DefPallet StrPallet[2] ;[MaxPallets]
;ENDFOLD

;FOLD STRUC Receita
INT PlacesCamada
INT Camadas
INT AlturaCaixa
FRAME OffsetProduto
E6POS Pick_E_1_P_1
E6POS Pick_E_1_P_2
E6POS Pick_E_1_P_3
E6POS Pick_E_1_P_4
E6POS Pick_E_2_P_1
E6POS Pick_E_2_P_2
E6POS Pick_E_2_P_3
E6POS Pick_E_2_P_4
STRUC DefStrReceita INT PlacesCamada,Camadas,AlturaCaixa,FRAME OffsetProduto,E6POS Pick_E_1_P_1,Pick_E_1_P_2,Pick_E_1_P_3,Pick_E_1_P_4,Pick_E_2_P_1,Pick_E_2_P_2,Pick_E_2_P_3,Pick_E_2_P_4
;---------- StrReceita[MaxReceitas] ----------
CONST INT MaxReceitas=21 ; 21
CONST INT MaxCamadas=12 ; 8
DECL DefStrReceita StrReceita[21] ;[MaxReceitas]
INT StrReceitaLayer[21,12] ;[MaxReceitas,MaxCamadas]
;ENDFOLD

;FOLD STRUC MatrizPontos
;CLP
;-> {IndexacaoVH} TRUE-> Vertical / FALSE -> Horizontal
;-> {NumCaixas} numero de caixas para o pick
;Configuracao de Pick
;-> {ConfGarraOp} Opcao de abertura da garra (1,2,3,4,5...)
;-> {PickOp} Opcao de pick na esteira (1,2,3,4,5...)
;-> {FechaGarraOp} Opcao de abertura da garra (1,2,3,4,5...)
;Configuracao de Place
;-> {AbreGarraOp} Opcao de abertura da garra (1,2,3,4,5...)
;-> {SkipGoHome} Quando TRUE indica que deve fazer outro place antes de ir para a posicao de pick
;-> {SkipSobeRelativo} Quando TRUE indica que nao deve subir relativo para cima depois do place
;Pontos de Place
;-> {XApp1Place} Primeiro ponto de aproximacao de place
;-> {XApp2Place} Segundo ponto de aproximacao de place
;-> {XPlace} Ponto de place

BOOL IndexacaoVH
BOOL SkipGoHome
BOOL SkipSobeRelativo
INT NumCaixas
INT PickOp
INT ConfGarraOp
INT FechaGarraOp
INT AbreGarraOp
E6POS XApp1Place
E6POS XApp2Place
E6POS XPlace
STRUC DefMatriz BOOL IndexacaoVH,SkipGoHome,SkipSobeRelativo,INT NumCaixas,ConfGarraOp,PickOp,FechaGarraOp,AbreGarraOp,E6POS XApp1Place,XApp2Place,XPlace
;---------- MatrizPontos[MaxMatrizI,MaxMatrizJ,MaxMatrizK] ----------
CONST INT MaxMatrizI=2 ;[numero de pallets por receita]
CONST INT MaxMatrizJ=21 ;[acompanha o MaxReceitas]
CONST INT MaxMatrizK=25 ;[numero Maximo de Pontos]
DECL DefMatriz MatrizPontos[2,21,25] ;[MaxMatrizI,MaxMatrizJ,MaxMatrizK]
;ENDFOLD

;ENDFOLD
ENDDAT
