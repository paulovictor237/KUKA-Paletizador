;FOLD Variaveis PEVE
INT PalletAtivo
INT MosaicoAtivo; = PalletFurukawa[PalletAtivo].NumProduto

BOOL PegaOk=FALSE

INT ALTURATOPO=850
INT NUMPALLETS=5
INT NUMMOZAICO=8
INT NUMMAXPONTOS=50

;FOLD Definir Variaveis de Pontos
    E6POS XApp1Place
    E6POS XApp2Place
    E6POS XPlace
    E6POS XTopoPallet
    ;MatrizPontos[MOZAICOS,PONTOS]
    E6POS MatrizPontos[8,50]
;ENDFOLD

;FOLD STRUC Produto
    Signal SensorVerificaAltura $in[1]
    Signal SensorPresencaCaixa $in[2]
    ;Signal CilindroRecuado $in[3]
    Signal SensorGarraAberta $in[3]
    ;Signal CilindroAvancado $in[4]
    Signal SensorGarraFechada $in[4]
    ;Signal RecuaCilindro $out[1]
    Signal GarraAberta $out[1]
    ;Signal AvancaCilindro $out[2]
    Signal GarraFechada $out[2]
;ENDFOLD

;FOLD STRUC Produto
    ;STRUC Produto 
    ;CHAR Nome[15]
    ;INT NumCaixas,NumPlaces,NumCamadas,AlturaCaixa
    ;POS OffsetProduto
    ;E6POS PickEsteira,PickEsteiraLateral
    STRUC Produto CHAR Nome[15], INT NumCaixas, NumPlaces, NumCamadas, AlturaCaixa, POS OffsetProduto, E6POS PickEsteira, PickEsteiraLateral
    DECL GLOBAL Produto ProdutoFurukawa[8]
;ENDFOLD

;FOLD STRUC Pallet
    ;STRUC Pallet
    ;INT NumProduto
    ;BOOL Livre
    ;INT AtualNumCaixas,AtualNumPlaces,AtualNumCamadas
    ;FRAME BasePoint
    ;POS OffSetPallet
    ;E6POS Approch
    STRUC Pallet INT NumProduto, BOOL Livre, INT AtualNumCaixas, AtualNumPlaces, AtualNumCamadas, FRAME BasePoint, POS OffSetPallet, E6POS Approch
    DECL GLOBAL Pallet PalletFurukawa[5]
;ENDFOLD

;FOLD STRUC CLP
    ;1 - Pallet menor
    ;2 - Pallet maior
    ;3 - Sem pallet
    ;Mosaico
    ;Produto selecionado
    STRUC CLP CHAR Produto[15], INT TamPallet, Mosaico
    DECL GLOBAL CLP CLPFurukawa
;ENDFOLD


;ENDFOLD